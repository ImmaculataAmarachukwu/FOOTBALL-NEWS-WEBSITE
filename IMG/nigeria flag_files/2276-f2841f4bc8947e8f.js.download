(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2276],{40863:function(e,t,r){"use strict";r.d(t,{Z:function(){return U}});var n,o,a=r(23097),l=r(43066),s=r(70624),i=r(55614),c=r(33616),p=r(93445),u=r.n(p),d=r(85334),_=r(63563),b=r.n(_),m=function(){var e=(0,d.Z)().t;return(0,a.jsx)("div",{className:b()["confirmation-wrapper"],children:(0,a.jsxs)("div",{className:b()["text-wrapper"],children:[(0,a.jsx)("div",{className:b()["icon-wrapper"],children:(0,a.jsx)("img",{src:"/img/newsletter-popup/hand.svg",alt:e("component.newsletterPopup.youAreIn")})}),(0,a.jsx)("p",{className:b().title,children:e("component.newsletterPopup.youAreIn")}),(0,a.jsx)("p",{className:b().subtitle,children:e("component.newsletterPopup.checkInbox")}),(0,a.jsx)("p",{className:b().text,children:e("component.newsletterPopup.emailSent")})]})})},w=r(36045),g=r(18281),f=r(83208);(n=o||(o={}))[n.FORM=0]="FORM",n[n.CONFIRMATION=1]="CONFIRMATION";var h=r(73797),x=r(96234),v=function(e){var t,r=e.callback,n=(0,i.Z)((0,c.useState)(o.FORM),2),l=n[0],p=n[1],_=(0,i.Z)((0,c.useState)(""),2),m=_[0],v=_[1],j=(0,i.Z)((0,c.useState)(!1),2),Z=j[0],N=j[1],S=(0,i.Z)((0,c.useState)(!1),2),k=S[0],I=S[1],O=(0,i.Z)((0,c.useState)(!1),2),T=O[0],D=O[1],C=(0,d.Z)().t,E=(0,s.B)().edition,A=(t=(0,w.Z)(function(e){var t,n;return(0,f.__generator)(this,function(a){switch(a.label){case 0:if(e.preventDefault(),D(!1),!(m&&Z))return[3,2];return t=k?"survey-opt-newsletter":"promo-newsletter-goal",[4,(0,h.n)(m,E,t)];case 1:"success"===(n=a.sent()).result?(p(o.CONFIRMATION),r(o.CONFIRMATION),(0,x.w6)("SUBSCRIBED_NEWSLETTER").setItem(!0)):"error"===n.result&&D(!0),a.label=2;case 2:return[2]}})}),function(e){return t.apply(this,arguments)});return(0,a.jsxs)("div",{className:b()["form-wrapper"],children:[l===o.FORM&&(0,a.jsx)("p",{className:b().title,children:C("component.newsletterPopup.title")}),(0,a.jsxs)("form",{onSubmit:A,children:[(0,a.jsx)("p",{className:b().subtitle,children:C("component.newsletterPopup.subtitle")}),(0,a.jsxs)("fieldset",{children:[T&&(0,a.jsx)("p",{className:b()["email-error"],children:C("generic.somethingWentWrong")}),(0,a.jsxs)("div",{className:u()(b()["input-wrapper"],(0,g.Z)({},b().filled,""!==m)),children:[(0,a.jsx)("input",{type:"email",required:!0,value:m,tabIndex:0,onChange:function(e){return v(e.target.value)}}),(0,a.jsx)("span",{children:C("generic.email")})]}),(0,a.jsxs)("label",{htmlFor:"conditions-checkbox",children:[(0,a.jsx)("div",{className:u()(b()["checkbox-wrapper"],(0,g.Z)({},b().checked,Z)),children:(0,a.jsx)("input",{id:"conditions-checkbox",type:"checkbox",required:!0,checked:Z,tabIndex:0,onChange:function(e){return N(e.target.checked)}})}),(0,a.jsx)("span",{children:C("component.newsletterPopup.conditions")})]}),E.indexOf("en")>-1&&(0,a.jsxs)("label",{htmlFor:"survey-checkbox",children:[(0,a.jsx)("div",{className:u()(b()["checkbox-wrapper"],(0,g.Z)({},b().checked,k)),children:(0,a.jsx)("input",{id:"survey-checkbox",type:"checkbox",checked:k,tabIndex:0,onChange:function(e){return I(e.target.checked)}})}),(0,a.jsx)("span",{children:C("component.newsletterPopup.survey")})]}),(0,a.jsx)("div",{className:b()["button-wrapper"],children:(0,a.jsx)("button",{type:"submit",children:C("generic.subscribe")})})]})]})]})},j=function(e){var t=e.callback,r=(0,i.Z)((0,c.useState)(""),2),n=r[0],l=r[1],s=(0,i.Z)((0,c.useState)(o.FORM),2),p=s[0],d=s[1];return(0,c.useEffect)(function(){l("/img/newsletter-popup/newsletter_".concat(Math.floor(5*Math.random()+1),".jpeg"))},[]),(0,a.jsx)("div",{className:u()(b()["content-wrapper"],"fade-in"),children:(0,a.jsxs)("div",{className:b().content,children:[(0,a.jsxs)("div",{className:b()["image-wrapper"],style:{backgroundImage:"url(".concat(n,")")},children:[(0,a.jsx)("div",{className:b()["gradient-bg"]}),(0,a.jsx)("button",{className:b()["close-btn"],onClick:t})]}),p===o.FORM&&(0,a.jsx)(v,{callback:d}),p===o.CONFIRMATION&&(0,a.jsx)(m,{})]})})},Z=r(86292),N=r(57239),S=r(82670),k=r(85688),I=function(e){var t=e.children,r=e.isOpen,n=e.displayAfter,o=void 0===n?3e3:n,l=(0,S.Z)(e,["children","isOpen","displayAfter"]),s=(0,i.Z)((0,c.useState)(!1),2),p=s[0],u=s[1];return(0,c.useEffect)(function(){var e;return r?e=setTimeout(function(){return u(!0)},o):u(!1),function(){return clearTimeout(e)}},[r,o]),(0,a.jsx)(k.Z,(0,N.Z)((0,Z.Z)({isOpen:p},l),{children:t}))},O=r(90648),T=function(){var e=(0,s.B)(),t=e.edition,r=e.pageType,n=Object.keys(O.vF).includes(t.substring(0,2)),o=(0,i.Z)((0,c.useState)(!1),2),l=o[0],p=o[1];return((0,c.useEffect)(function(){var e=(0,x.w6)("SUBSCRIBED_NEWSLETTER").getItem(),t=(0,x.w6)("DISMISSED_NEWSLETTER").getItem();if(!e){if(t){var r=new Date(t);Math.ceil((new Date().getTime()-r.getTime())/864e5)>=30&&p(!0)}else p(!0)}},[]),n&&"404"!==r)?(0,a.jsx)(I,{isOpen:l,onClose:function(){return(0,x.w6)("DISMISSED_NEWSLETTER",{validator:x.jc}).setItem(new Date().toISOString())},children:function(e){var t=e.close;return(0,a.jsx)(j,{callback:t})}}):null},D=r(12740),C=r(17805),E=r(42430),A="Goal app promo pop up",y=r(96370),M=r.n(y),P=r(67967),R=function(){var e=navigator.userAgent||navigator.vendor;return/android/i.test(e)?"Android":!/iPad|iPhone|iPod/.test(e)||"MSStream"in window?void 0:"iOS"},F=r(99302),X=r.n(F),B=function(e){var t=e.callback,r=(0,P.O)().isBrowser,n=R(),o=function(){(0,E.r)({category:A,action:"Download"}),t()};return(0,a.jsxs)("div",{className:X()["store-button"],children:[(!n||"iOS"===n)&&r&&(0,a.jsx)("a",{href:"https://apps.apple.com/us/app/goal-com/id518026818?platform=iphone",target:"_blank",rel:"noreferrer",onClick:o,children:(0,a.jsx)("img",{src:"/img/mobile-app-promo/app-store.png",width:"149",height:"44",alt:"App Store"})}),(!n||"Android"===n)&&r&&(0,a.jsx)("a",{href:"https://play.google.com/store/apps/details?id=com.freerange360.mpp.GOAL&hl=en_GB&gl=US",target:"_blank",rel:"noreferrer",onClick:o,children:(0,a.jsx)("img",{src:"/img/mobile-app-promo/play-store.png",width:"150",height:"44",alt:"Google Play Store"})})]})},L=function(e){var t=e.callback,r=(0,d.Z)().t;return(0,a.jsxs)("div",{className:u()(M().modal,"fade-in"),children:[(0,a.jsx)("button",{className:M()["close-btn"],onClick:function(){(0,E.r)({category:A,action:"Close"}),t()}}),(0,a.jsx)("p",{className:M().greeting,children:r("component.mobileAppPromo.greeting")}),(0,a.jsx)("p",{className:M().info1,children:r("component.mobileAppPromo.firstInfo")}),(0,a.jsx)("p",{className:M().info2,children:r("component.mobileAppPromo.secondInfo")}),(0,a.jsx)(B,{callback:t}),(0,a.jsx)("img",{src:"/img/logo.svg",alt:"Goal",className:M().logo,width:"90",height:"90"}),(0,a.jsx)("p",{className:M().label,children:r("component.mobileAppPromo.label")}),(0,a.jsx)("div",{className:M()["cells-wrapper"],children:(0,a.jsx)("img",{src:"/img/mobile-app-promo/cells.png",className:M().cells,alt:""})})]})},q=function(e){var t=new Date(e);return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t},G=function(e,t){var r=new Date(e);r.setHours(0,0,0,0);var n=new Date(t);return n.setHours(0,0,0,0),Math.floor((q(r).getTime()-q(n).getTime())/864e5)},J=function(){var e=(0,i.Z)((0,c.useState)(!1),2),t=e[0],r=e[1],n=(0,C.F)().isMobile,o=(0,x.w6)("MOBILE_PROMO_APP"),l=o.getItem,s=o.setItem,p=function(){s(new Date(2e13).getTime()),r(!1)};return(0,c.useEffect)(function(){var e=l();if(e===D.bj.MOBILE_PROMO_APP.default)s(new Date().getTime());else{var t=new Date(e);G(new Date,t)>0&&r(!0)}},[]),(0,a.jsx)(I,{isOpen:t&&n,onClose:p,children:(0,a.jsx)(L,{callback:p})})},W=[{startDate:new Date("2022-11-18T00:00:00Z"),endDate:new Date("2038-01-01T00:00:00Z"),component:J}],H=[{startDate:new Date("2022-10-18T00:00:00Z"),endDate:new Date("2038-01-01T00:00:00Z"),component:J}],U=function(){var e,t=new Date,r=(null===(e=((0,s.B)().appEnv===l.mJ.prod?W:H).find(function(e){return e.startDate<t&&e.endDate>t}))||void 0===e?void 0:e.component)||T;return(0,a.jsx)(r,{})}},90648:function(e,t,r){"use strict";r.d(t,{Cx:function(){return s},OF:function(){return p},_A:function(){return c},q7:function(){return i},vF:function(){return l}});var n,o=r(18281),a=r(23466),l=(n={},(0,o.Z)(n,a.cX.Arabic,"65026da483"),(0,o.Z)(n,a.cX.ArabicEgypt,"65026da483"),(0,o.Z)(n,a.cX.ArabicSaudiArabia,"65026da483"),(0,o.Z)(n,a.cX.English,"a1cc099c14"),(0,o.Z)(n,a.cX.French,"aa731c1b68"),(0,o.Z)(n,a.cX.German,"3072626643"),(0,o.Z)(n,a.cX.Indonesian,"bd61091be2"),(0,o.Z)(n,a.cX.Italian,"cae264f32d"),(0,o.Z)(n,a.cX.Japanese,"14a08e7e77"),(0,o.Z)(n,a.cX.Portuguese,"c80427adaa"),(0,o.Z)(n,a.cX.Spanish,"3a1e3375fc"),(0,o.Z)(n,a.cX.SpanishArgentina,"3a1e3375fc"),(0,o.Z)(n,a.cX.SpanishChile,"3a1e3375fc"),(0,o.Z)(n,a.cX.SpanishColombia,"3a1e3375fc"),(0,o.Z)(n,a.cX.SpanishMexico,"3a1e3375fc"),(0,o.Z)(n,a.cX.Thai,"542a342a50"),(0,o.Z)(n,a.cX.Turkish,"0e69076068"),n),s="334d8448f05957519a37f510f",i=l.en,c="634b62f58c",p="b9e02b2924"},67967:function(e,t,r){"use strict";r.d(t,{O:function(){return a}});var n=r(55614),o=r(33616),a=function(){var e=(0,n.Z)((0,o.useState)(!1),2),t=e[0],r=e[1];return(0,o.useEffect)(function(){r(!!window)},[]),{isBrowser:t,isServer:!t}}},73797:function(e,t,r){"use strict";r.d(t,{n:function(){return d}});var n,o=r(36045),a=r(83208),l=r(80815),s=r.n(l),i=r(98020),c=r(90648),p=function(e,t){switch(t){case"promo-newsletter-mundial":return c._A;case"survey-opt-newsletter":return c.OF;default:return c.vF[e]||c.q7}},u=function(e,t,r){var n,o={u:c.Cx,id:p(t,r),EMAIL:encodeURIComponent(e),FCID:null!==(n=window[i.Jz])&&void 0!==n?n:"anonymous-user"},a=Object.keys(o).map(function(e){return"".concat(e,"=").concat(o[e])}).join("&");return"".concat("https","://").concat("goal.us2.list-manage.com","/").concat("subscribe/post-json","?").concat(a)},d=(n=(0,o.Z)(function(e,t,r){var n;return(0,a.__generator)(this,function(o){switch(o.label){case 0:return n=u(e,t,r),[4,s()(n,{timeout:3e3,jsonpCallback:"c"})];case 1:return[4,o.sent().json()];case 2:return[2,o.sent()]}})}),function(e,t,r){return n.apply(this,arguments)})},96370:function(e){e.exports={"barlow1-semi-bold":"modal_barlow1-semi-bold__ybMyZ","barlow1-regular":"modal_barlow1-regular__LGlZz","barlow2-semi-bold":"modal_barlow2-semi-bold__STHon","barlow2-regular":"modal_barlow2-regular__x8Dvs","barlow3-semi-bold":"modal_barlow3-semi-bold__c7pYO","barlow3-regular":"modal_barlow3-regular___kJTM","barlow4-semi-bold":"modal_barlow4-semi-bold__EgUoT","barlow4-regular":"modal_barlow4-regular__pepZM",heading1:"modal_heading1__RU38b",modal:"modal_modal__RhZk_","close-btn":"modal_close-btn__vbN7s",greeting:"modal_greeting__NRdaT",info1:"modal_info1__Vbwq7",info2:"modal_info2__31t1a",logo:"modal_logo__v54Ei",label:"modal_label__doUSV","cells-wrapper":"modal_cells-wrapper__DJLkr",cells:"modal_cells__mgCSc"}},99302:function(e){e.exports={"barlow1-semi-bold":"store-button_barlow1-semi-bold__ti7em","barlow1-regular":"store-button_barlow1-regular__IECZ5","barlow2-semi-bold":"store-button_barlow2-semi-bold__TovXq","barlow2-regular":"store-button_barlow2-regular__zw7pq","barlow3-semi-bold":"store-button_barlow3-semi-bold__IQNaJ","barlow3-regular":"store-button_barlow3-regular__yJTgs","barlow4-semi-bold":"store-button_barlow4-semi-bold__36V7S","barlow4-regular":"store-button_barlow4-regular__iNiWk",heading1:"store-button_heading1__uZeLP","store-button":"store-button_store-button__jvlPz"}},63563:function(e){e.exports={"barlow1-semi-bold":"newsletter-popup_barlow1-semi-bold__kDCer","barlow1-regular":"newsletter-popup_barlow1-regular__aXokJ","barlow2-semi-bold":"newsletter-popup_barlow2-semi-bold__4iH8Q","barlow2-regular":"newsletter-popup_barlow2-regular__K_AAB","barlow3-semi-bold":"newsletter-popup_barlow3-semi-bold__KGTtb","barlow3-regular":"newsletter-popup_barlow3-regular__qK91H","barlow4-semi-bold":"newsletter-popup_barlow4-semi-bold__Ccm85","barlow4-regular":"newsletter-popup_barlow4-regular__dHAdR",heading1:"newsletter-popup_heading1__KWnug","content-wrapper":"newsletter-popup_content-wrapper__RgrTF",content:"newsletter-popup_content__qqP8J",title:"newsletter-popup_title__Vi1CG",subtitle:"newsletter-popup_subtitle__U_MLg",text:"newsletter-popup_text__v4i5R","close-btn":"newsletter-popup_close-btn__BSDCg","image-wrapper":"newsletter-popup_image-wrapper__hqbHD","gradient-bg":"newsletter-popup_gradient-bg__dOnH5","form-wrapper":"newsletter-popup_form-wrapper___y6px","confirmation-wrapper":"newsletter-popup_confirmation-wrapper__CKkWQ","text-wrapper":"newsletter-popup_text-wrapper__TZJVS","checkbox-wrapper":"newsletter-popup_checkbox-wrapper__SFAoe",checked:"newsletter-popup_checked__EdNab","email-error":"newsletter-popup_email-error__yi2Dg","input-wrapper":"newsletter-popup_input-wrapper__nm2wO",filled:"newsletter-popup_filled__k6SN1","button-wrapper":"newsletter-popup_button-wrapper__pG8Bo","icon-wrapper":"newsletter-popup_icon-wrapper__7PIWz"}}}]);